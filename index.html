<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Happy Valentine</title>
<style>
body {
    margin: 0;
    overflow: hidden;
    background: black;
}
canvas {
    display: block;
}
</style>
</head>
<body>

<canvas id="canvas"></canvas>

<script>
const canvas = document.getElementById("canvas");
const ctx = canvas.getContext("2d");

canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

const particles = [];
const numParticles = 4500; // lebih padat

function heartFunction(t){
    let x = 16 * Math.pow(Math.sin(t), 3);
    let y = 13 * Math.cos(t)
            - 5 * Math.cos(2 * t)
            - 2 * Math.cos(3 * t)
            - Math.cos(4 * t);
    return { x, y };
}

// buat particles
for (let i = 0; i < numParticles; i++) {
    let t = Math.random() * Math.PI * 2;
    let pos = heartFunction(t);

    particles.push({
        baseX: canvas.width / 2 + pos.x * 20,
        baseY: canvas.height / 2 - pos.y * 20,
        angle: Math.random() * Math.PI * 2,
        radius: Math.random() * 2 + 0.5,
        spread: Math.random() * 18, // INI YANG DIUBAH (lebih besar)
        speed: Math.random() * 0.04 + 0.01
    });
}

let floatOffset = 0;

function animate() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);

    for (let p of particles) {

        // gerakan lebih nyebar keluar
        let dx = Math.cos(p.angle) * p.spread;
        let dy = Math.sin(p.angle) * p.spread;

        let x = p.baseX + dx;
        let y = p.baseY + dy;

        ctx.beginPath();
        ctx.arc(x, y, p.radius, 0, Math.PI * 2);
        ctx.fillStyle = "rgba(255, 60, 120, 0.9)";
        ctx.fill();

        p.angle += p.speed;
    }

    // Floating text
    floatOffset += 0.02;
    let floatY = Math.sin(floatOffset) * 8;

    let gradient = ctx.createLinearGradient(
        canvas.width/2 - 200,
        canvas.height/2,
        canvas.width/2 + 200,
        canvas.height/2
    );
    gradient.addColorStop(0, "#ff4d6d");
    gradient.addColorStop(0.5, "#ff85a1");
    gradient.addColorStop(1, "#ffc2d1");

    ctx.textAlign = "center";
    ctx.shadowColor = "#ff4d6d";
    ctx.fillStyle = gradient;
    ctx.font = "bold 53px 'Segoe UI', cursive";
    ctx.shadowBlur = 25;
    ctx.fillText("HAPPY VALENTINE <3", canvas.width / 2, canvas.height / 2 - 20 + floatY);
    ctx.font = "bold 35px 'Segoe UI', cursive";
    ctx.fillStyle = "#ffc2d1";
    ctx.shadowBlur = 15;
    ctx.fillText("— Sandra Revalina —", canvas.width / 2, canvas.height / 2 + 50 + floatY);
    ctx.shadowBlur = 0;
    requestAnimationFrame(animate);
}
animate();
</script>
</body>
</html>
